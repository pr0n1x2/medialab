# Задание 4

Прошу заменить, что с Redis я никогда не работал. Но на основе той информации, которую узнал могу составить порядок действий как я бы сделал это задание.

1. Нужно создать 3 Хеш-таблицы:
    
**Первая таблица:**

users:{id} - где ключем будет идентификатор пользователя.

В этой таблице будем хранить следующие данные:

name - имя пользователя

email - E-mail пользователя

password_hash - хешированный пароль

**Вторая таблица**

emails:{email} - где ключем будет email пользователя

В этой таблице будем хранить следующие данные:

user_id - идентификатор пользователя в таблице users

**Третья таблица**

infoshema:{table} - где ключем будет имя таблицы

В этой таблице будем хранить следующие данные:

Для таблицы users будем хранить значение increment, которое будем увеличивать на единицу при создании нового пользователя.

_(можно было бы обойтись без этой таблицы и использовать тип данных Strings, но вдруг нам потребуется хранить еще какие-то служебные данные в этой таблице, по этому я предпочитаю, чтобы все было упорядочено и выбираю Хеш таблицу)_

**Порядок действий**

**Когда пользователь регистрируется**

- берем E-mail который ввел пользователь и ищем ключ в таблице emails

- в том случае если ключ находим, выдаем сообщение об ошибке, что такой пользователь уже существует

- в том случае если ключ не находим:

- берем значение из таблицы infoshema:users icrement

- добавляем в таблицу users новую запись, идентификатору присваиваем значение icrement, а в значение записываем наши данные имя, e-mail, хеш-пароль

- добавляем в таблицу emails новую запись, идентификатору присваиваем значения e-mail, а в значение записываем данных из icrement

- увеличиваем значение в таблице infoshema:users icrement на 1

- показываем сообщение, что пользователь успешно зарегистрировался

**Когда пользователь авторизируется**

- берем E-mail который ввел пользователь и ищем ключ в таблице emails

- в том случае если ключ не находим:

- пишем, что такого такого пользователя не существует

- в том случае если находим ключ

- берем значение из поля user_id

- ищем в табице users нужную запись

- берем хещ-пароль и сравниваем с хеш-паролем, который ввел пользователь

- если данные совпадают, авторизируем пользователя

- если данные не совпадают выдаем сообщение об ошибк

_(если требуется я могу написать php код, но потребуется еще некоторое время, прошу сообщить мне справился я с заданиями или нет, спасибо)_